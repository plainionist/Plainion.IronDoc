namespace Plainion.IronDoc.Tests

open System
open System.IO
open System.Collections.Generic
open NUnit.Framework
open Plainion.IronDoc
open Plainion.IronDoc.Tests.Fakes
open Plainion.IronDoc.Tests.Fakes

type internal OverwrittenMethods() =
    /// <summary>
    /// Returns nicely formatted message about the state of this object
    /// </summary>
    override this.ToString() =
        "silence"

/// <summary>
/// This is a summary
/// </summary>
/// <remarks>
/// And here are some remarks
/// </remarks>
type internal SimplePublicClass() = class end

// test specific scenarios - parsing + rendering
[<TestFixture>]
module ParsingTests =
    open Plainion.IronDoc.Parsing
    
    [<Test>]
    let ``Simple class summary rendered`` () = 
        let markdownDocument = renderApiDoc typedefof<SimplePublicClass>

        // TODO: to unspecific
        Assert.That( markdownDocument, Does.Contain "This is a summary" )

    [<Test>]
    let ``Overwritten method is rendered``() =
        let markdownDocument = renderApiDoc typedefof<OverwrittenMethods>

        Assert.That( markdownDocument, Does.Contain @"Returns nicely formatted message about the state of this object" )

    [<Test>]
    let ``Nested type summary is rendered``() =
        let markdownDocument = renderApiDoc typedefof<Scenarios.NestedType.Nested>

        // TODO: to unspecific
        Assert.That( markdownDocument, Does.Contain @"I am nested" )
